<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" js-data-express Modules js-data-express Classes Router Global Global Source: index.js import { Component, Container, Mapper, utils } from 'js-data' import { queryParser } from './queryParser' export * from './queryParser' import * as handlers from './handlers' import express from 'express' import bodyParser from 'body-parser' const handlerNoop = (req, res, next) =&gt; { next() } function makeHandler (method, component, config = {}) { config[method] || (config[method] = {}) const userRequestHandler = utils.isFunction(config[method].request) ? config[method].request : handlerNoop const defaultRequestHandler = handlers.makeRequestHandler(method, component, config) const defaultResponseHandler = handlers.makeResponseHandler(method, component, config) return (req, res, next) =&gt; { userRequestHandler(req, res, (err) =&gt; { if (err) { return next(err) } defaultRequestHandler(req, res, (err) =&gt; { if (err) { return next(err) } if (utils.isFunction(config[method].response)) { config[method].response(req, res, next) } else { defaultResponseHandler(req, res, next) } }) }) } } /** * A middleware method invoked on all requests * * @typedef RequestHandler * @type function * @param {object} req HTTP(S) Request Object * @param {object} res HTTP(S) Response Object * @param {function} next Express `next()` callback to continue the chain */ /** * A method that handles all responses * * @typedef ResponseHandler * @type function * @param {object} req HTTP(S) Request Object * @param {object} res HTTP(S) Response Object * @param {function} next Express `next()` callback to continue the chain */ /** * Custom defined method that retrieves data/results for an endpoint * * @typedef ActionHandler * @type function * @param {object} component Instance of `Mapper`, `Container`, `SimpleStore`, * or `DataStore`. * @param {object} req HTTP(S) Request Object * * @example &lt;caption&gt;A custom action&lt;/caption&gt; * (component, req) =&gt; { * return new Promise((resolve, reject) =&gt; { * // ..some logic * return resolve(results) * }) * } * * @returns {Promise} Promise that resolves with the result. */ /** * @typedef Serializer * @type function * @param {object} component Instance of `Mapper`, `Container`, `SimpleStore`, * or `DataStore`. * @param {object} result The result of the endpoint's {@link ActionHandler}. * @param {object} opts Configuration options. * @returns {object|array|undefined} The serialized result. */ /** * create action configs * * @typedef CreateConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * createMany action configs * * @typedef CreateManyConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * destroy action configs * * @typedef DestroyConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * destroyAll action configs * * @typedef DestroyAllConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * find action configs * * @typedef FindConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * findAll action configs * * @typedef FindAllConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * update action configs * * @typedef UpdateConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * UpdateAllConfig action configs * * @typedef UpdateAllConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * updateMany action configs * * @typedef UpdateManyConfig * @type object * @property {ActionHandler} [action] Custom action to retrieve data results * @property {number} [statusCode] The status code to return with the response * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results */ /** * Define endpoint path with custom logic * * @typedef Endpoint * @type function * @param {Object} mapper Component Mapper object */ /** * Configuration options for endpoints, actions, &amp; request/response * * @typedef Config * @type object * @property {Endpoint} [getEndpoint] Define endpoints with custom method * @property {CreateConfig} [create] create action configs * @property {CreateManyConfig} [createMany] createMany action configs * @property {DestroyConfig} [destroy] destroy action configs * @property {DestroyAllConfig} [destroyAll] destroyAll action configs * @property {FindConfig} [find] find action configs * @property {FindAllConfig} [findAll] findAll action configs * @property {Serializer|boolean} [toJSON] Define custom toJSON method for response results * @property {UpdateConfig} [update] update action configs * @property {UpdateAllConfig} [updateAll] updateAll action configs * @property {UpdateManyConfig} [updateMany] updateMany action configs */ /** * @class Router * * @param {object} component Instance of `Mapper`, `Container`, `SimpleStore`, * or `DataStore`. * @param {Config} [config] Optional configuration. * */ export function Router (component, config = {}) { if (!(component instanceof Mapper) &amp;&amp; !(component instanceof Container)) { throw new Error('You must provide an instance of JSData.Container, JSData.DataStore, or JSData.Mapper!') } const router = this.router = express.Router() router.use(bodyParser.json()) router.use(bodyParser.urlencoded({ extended: true })) if (utils.isFunction(config.request)) { router.use(config.request) config.request = undefined } if (component instanceof Container) { utils.forOwn(component._mappers, (mapper, name) =&gt; { let endpoint = `/${mapper.endpoint || name}` if (utils.isFunction(config.getEndpoint)) { endpoint = config.getEndpoint(mapper) } router.use(endpoint, new Router(mapper, config).router) }) } else if (component instanceof Mapper) { const createManyHandler = makeHandler('createMany', component, config) const createHandler = makeHandler('create', component, config) const updateManyHandler = makeHandler('updateMany', component, config) const updateAllHandler = makeHandler('updateAll', component, config) router.route('/') // GET /:resource .get(makeHandler('findAll', component, config)) // POST /:resource .post(function (req, res, next) { if (utils.isArray(req.body)) { createManyHandler(req, res, next) } else { createHandler(req, res, next) } }) // PUT /:resource .put(function (req, res, next) { if (utils.isArray(req.body)) { updateManyHandler(req, res, next) } else { updateAllHandler(req, res, next) } }) // DELETE /:resource .delete(makeHandler('destroyAll', component, config)) router.route('/:id') // GET /:resource/:id .get(makeHandler('find', component, config)) // PUT /:resource/:id .put(makeHandler('update', component, config)) // DELETE /:resource/:id .delete(makeHandler('destroy', component, config)) } } Component.extend({ constructor: Router }) /** * Convenience method that mounts {@link queryParser} and a store. * * @example &lt;caption&gt;Mount queryParser and store at &quot;/&quot;&lt;/caption&gt; * import express from 'express'; * import { mount, queryParser, Router } from 'js-data-express'; * import { Container } from 'js-data'; * * const app = express(); * const store = new Container(); * const UserMapper = store.defineMapper('user'); * const CommentMapper = store.defineMapper('comment'); * mount(app, store); * * @example &lt;caption&gt;Mount queryParser and store at &quot;/api&quot;&lt;/caption&gt; * mount(app, store, '/api'); * * @name module:js-data-express.mount * @method * @param {*} app * @param {object} store Instance of `Mapper`, `Container`, `SimpleStore`, * or `DataStore`. * @param {Config|string} [config] Configuration options. */ export function mount (app, store, config = {}) { if (!(store instanceof Container)) { throw new Error('You must provide an instance of JSData.Container or JSData.DataStore!') } if (utils.isString(config)) { config = { path: config } } config.path || (config.path = '/') app.use(config.path, queryParser) app.use(config.path, new Router(store, config).router) } /** * Details of the current version of the `js-data-express` module. * * @example &lt;caption&gt;ES2015 modules import&lt;/caption&gt; * import { version } from 'js-data-express'; * console.log(version.full); * * @example &lt;caption&gt;CommonJS import&lt;/caption&gt; * var version = require('js-data-express').version; * console.log(version.full); * * @name module:js-data-express.version * @type {object} * @property {string} version.full The full semver value. * @property {number} version.major The major version number. * @property {number} version.minor The minor version number. * @property {number} version.patch The patch version number. * @property {(string|boolean)} version.alpha The alpha version value, * otherwise `false` if the current version is not alpha. * @property {(string|boolean)} version.beta The beta version value, * otherwise `false` if the current version is not beta. */ export const version = '&lt;%= version %&gt;' /** * {@link Router} class. * * @example &lt;caption&gt;ES2015 modules import&lt;/caption&gt; * import { Router } from 'js-data-express'; * const adapter = new Router(); * * @example &lt;caption&gt;CommonJS import&lt;/caption&gt; * var Router = require('js-data-express').Router; * var adapter = new Router(); * * @name module:js-data-express.Router * @see Router * @type {Constructor} */ /** * Registered as `js-data-express` in NPM. * * @example &lt;caption&gt;Install from NPM&lt;/caption&gt; * npm i --save js-data-express@rc js-data@rc * * @example &lt;caption&gt;ES2015 modules import&lt;/caption&gt; * import { Router } from 'js-data-express'; * const adapter = new Router(); * * @example &lt;caption&gt;CommonJS import&lt;/caption&gt; * var Router = require('js-data-express').Router; * var adapter = new Router(); * * @module js-data-express */ × Search results Close api.js-data.io • js-data.io "},"global.html":{"id":"global.html","title":"Global","body":" js-data-express Modules js-data-express Classes Router Global Global Global Details Type Definitions ActionHandler(component, req) Custom defined method that retrieves data/results for an endpoint Method parameters: Name Type Description component Object Instance of Mapper, Container, SimpleStore, or DataStore. req Object HTTP(S) Request Object Return value: Type Description Promise Promise that resolves with the result. Details Type Source Function index.js, line 63 Example Try it out (component, req) =&gt; { return new Promise((resolve, reject) =&gt; { // ..some logic return resolve(results) }) } (component, req) =&gt; { return new Promise((resolve, reject) =&gt; { // ..some logic return resolve(results) }) } Config Configuration options for endpoints, actions, &amp; request/response Details Type Source Object index.js, line 191 Properties: Name Type Argument Description getEndpoint Endpoint &lt;optional&gt; Define endpoints with custom method create CreateConfig &lt;optional&gt; create action configs createMany CreateManyConfig &lt;optional&gt; createMany action configs destroy DestroyConfig &lt;optional&gt; destroy action configs destroyAll DestroyAllConfig &lt;optional&gt; destroyAll action configs find FindConfig &lt;optional&gt; find action configs findAll FindAllConfig &lt;optional&gt; findAll action configs toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results update UpdateConfig &lt;optional&gt; update action configs updateAll UpdateAllConfig &lt;optional&gt; updateAll action configs updateMany UpdateManyConfig &lt;optional&gt; updateMany action configs CreateConfig create action configs Details Type Source Object index.js, line 93 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results CreateManyConfig createMany action configs Details Type Source Object index.js, line 103 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results DestroyAllConfig destroyAll action configs Details Type Source Object index.js, line 123 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results DestroyConfig destroy action configs Details Type Source Object index.js, line 113 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results Endpoint(mapper) Define endpoint path with custom logic Method parameters: Name Type Description mapper Object Component Mapper object Details Type Source Function index.js, line 183 FindAllConfig findAll action configs Details Type Source Object index.js, line 143 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results FindConfig find action configs Details Type Source Object index.js, line 133 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results RequestHandler(req, res, next) A middleware method invoked on all requests Method parameters: Name Type Description req Object HTTP(S) Request Object res Object HTTP(S) Response Object next Function Express next() callback to continue the chain Details Type Source Function index.js, line 43 ResponseHandler(req, res, next) A method that handles all responses Method parameters: Name Type Description req Object HTTP(S) Request Object res Object HTTP(S) Response Object next Function Express next() callback to continue the chain Details Type Source Function index.js, line 53 Serializer(component, result, opts) Method parameters: Name Type Description component Object Instance of Mapper, Container, SimpleStore, or DataStore. result Object The result of the endpoint's ActionHandler. opts Object Configuration options. Return value: Type Description Object | Array | undefined The serialized result. Details Type Source Function index.js, line 83 UpdateAllConfig UpdateAllConfig action configs Details Type Source Object index.js, line 163 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results UpdateConfig update action configs Details Type Source Object index.js, line 153 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results UpdateManyConfig updateMany action configs Details Type Source Object index.js, line 173 Properties: Name Type Argument Description action ActionHandler &lt;optional&gt; Custom action to retrieve data results statusCode Number &lt;optional&gt; The status code to return with the response toJSON Serializer | Boolean &lt;optional&gt; Define custom toJSON method for response results × Search results Close api.js-data.io • js-data.io "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" js-data-express Modules js-data-express Classes Router Global Global Modules Details Classes Router × Search results Close api.js-data.io • js-data.io "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" js-data-express Modules js-data-express Classes Router Global Global Classes Details Classes Router × Search results Close api.js-data.io • js-data.io "},"index.html":{"id":"index.html","title":"Index","body":" js-data-express Modules js-data-express Classes Router Global Global js-data-express 1.0.0-rc.1 js-data-express Generate Express.js-compatible route middleware for js-data models. To get started, visit http://js-data.io. import express from 'express' import {mount, queryParser, Router} from 'js-data-express' import {Container} from 'js-data' const app = express() const store = new Container() const UserMapper = store.defineMapper('user') const CommentMapper = store.defineMapper('comment')Use mount() // Mount store at &quot;/&quot; mount(app, store) // Mount store at &quot;/api&quot; mount(app, store, '/api')Adding as middleware // Mount queryParser at &quot;/&quot; app.use(queryParser) // Mount store at &quot;/&quot; app.use(new Router(store).router)Links Quick start - Get started in 5 minutes Guides and Tutorials - Learn how to use JSData js-data-express Guide - Learn how to use js-data-express API Reference Docs - Explore components, methods, options, etc. Community &amp; Support - Find solutions and chat with the community General Contributing Guide - Give back and move the project forward Contributing to js-data-express LicenseThe MIT License (MIT) Copyright (c) 2014-2016 js-data-express project authors LICENSE AUTHORS CONTRIBUTORS × Search results Close api.js-data.io • js-data.io "},"module-js-data-express.html":{"id":"module-js-data-express.html","title":"Module: js-data-express","body":" js-data-express Modules js-data-express Classes Router Global Global Module: js-data-express Registered as js-data-express in NPM. Details Source index.js, line 360 Examples Try it out npm i --save js-data-express@rc js-data@rc npm i --save js-data-express@rc js-data@rc Try it out import { Router } from 'js-data-express'; const adapter = new Router(); import { Router } from 'js-data-express'; const adapter = new Router(); Try it out var Router = require('js-data-express').Router; var adapter = new Router(); var Router = require('js-data-express').Router; var adapter = new Router(); Members &lt;static&gt; Router Router class. Details Type Source See Constructor index.js, line 344 Router Examples Try it out import { Router } from 'js-data-express'; const adapter = new Router(); import { Router } from 'js-data-express'; const adapter = new Router(); Try it out var Router = require('js-data-express').Router; var adapter = new Router(); var Router = require('js-data-express').Router; var adapter = new Router(); &lt;static&gt; version Details of the current version of the js-data-express module. Details Type Source Object index.js, line 320 Properties: Name Type Description version.full String The full semver value. version.major Number The major version number. version.minor Number The minor version number. version.patch Number The patch version number. version.alpha String | Boolean The alpha version value, otherwise false if the current version is not alpha. version.beta String | Boolean The beta version value, otherwise false if the current version is not beta. Examples Try it out import { version } from 'js-data-express'; console.log(version.full); import { version } from 'js-data-express'; console.log(version.full); Try it out var version = require('js-data-express').version; console.log(version.full); var version = require('js-data-express').version; console.log(version.full); Methods &lt;static&gt; mount(app, store, config) Convenience method that mounts queryParser and a store. Method parameters: Name Type Argument Description app * store Object Instance of Mapper, Container, SimpleStore, or DataStore. config Config | String &lt;optional&gt; Configuration options. Details Source index.js, line 283 Examples Try it out import express from 'express'; import { mount, queryParser, Router } from 'js-data-express'; import { Container } from 'js-data'; const app = express(); const store = new Container(); const UserMapper = store.defineMapper('user'); const CommentMapper = store.defineMapper('comment'); mount(app, store); import express from 'express'; import { mount, queryParser, Router } from 'js-data-express'; import { Container } from 'js-data'; const app = express(); const store = new Container(); const UserMapper = store.defineMapper('user'); const CommentMapper = store.defineMapper('comment'); mount(app, store); Try it out mount(app, store, '/api'); mount(app, store, '/api'); × Search results Close api.js-data.io • js-data.io "},"Router.html":{"id":"Router.html","title":"Class: Router","body":" js-data-express Modules js-data-express Classes Router Global Global Class: Router Router new Router(component, config) Method parameters: Name Type Argument Description component Object Instance of Mapper, Container, SimpleStore, or DataStore. config Config &lt;optional&gt; Optional configuration. Details Source index.js, line 209 × Search results Close api.js-data.io • js-data.io "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
